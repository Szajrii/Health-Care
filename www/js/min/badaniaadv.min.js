const provider = new firebase.auth.GoogleAuthProvider();
function myFunction(){myVar=setTimeout(showPage,1e3)}function showPage(){document.getElementById("loader").style.display="none",document.getElementById("myDiv").style.display="block"}var qsParm=new Array;function qs(){for(var a=window.location.search.substring(1).split("&"),e=0;e<a.length;e++){var n=a[e].indexOf("=");if(n>0){var t=a[e].substring(0,n),i=a[e].substring(n+1);qsParm[t]=i}}return qsParm[t]}var prevScrollpos=window.pageYOffset;window.onscroll=function(){var a=window.pageYOffset;document.getElementById("navbar").style.bottom=prevScrollpos>a?"0":"-81px",prevScrollpos=a};var plecstatus,database=firebase.database();function addZeroes(a){var e=a.toString(),n=Number(e),t=e.split(".");return(t.length<10||t[1].length<3)&&(n=n.toFixed(2)),n}function szczegolyPage(a){firebase.auth().onAuthStateChanged(function(e){$(".container_badanie_bad_above").remove(),$(".separator").remove();var n,t,i,s=a.match(/\d+/g),o=(e=firebase.auth().currentUser).uid,d=0,r=0,l=[],c=0,b=[11,6.5,18,51,45,.4,97,32,36,400,20,99,199,5,40,45,5.5,145,1.2,2.75,158,740],p=[4.1,4.5,13.5,40,20,.1,80,26,31,140,3,70,170,.32,5,8,3.5,135,.65,2.25,50,148],w=[11,5.6,15.5,47,45,.4,97,32,36,400,30,99,199,5,40,35,5.5,145,1.2,2.75,145,740],u=[4.1,3.9,11.5,37,20,.1,80,26,31,140,6,70,170,.32,5,7,3.5,135,.65,2.25,37,148],m=["Białe krwinki","Czerwone krwinki","Hemoglobina","Hematokryt","Limfocyty","Monocyty","MCV","MCH","MCHC","Płytki krwi","OB","Glukoza","Cholesterol","TSH","ALAT","AspAT","Potas","Sód","Magnez","Wapń","Żelazo","Witamina B12"],z=["Bialekrwinki","Czerwonekrwinki","Hemoglobina","Hematokryt","Limfocyty","Monocyty","MCV","MCH","MCHC","Plytkikrwi","OB","Glukoza","Cholesterol","TSH","ALAT","AspAT","Potas","Sod","Magnez","Wapn","Zelazo","WitaminaB12"],v=0,y=[];e?firebase.database().ref("users/"+o+"/Badania/").orderByKey().on("value",function(a){a.forEach(function(a){var e=a.key;l[c]=e,c+=1}),firebase.database().ref("users/"+o+"/Badania/"+l[s-1]).on("value",function(a){var e=a.val();if(y[0]=e.Białe_krwinki,y[1]=e.Czerwone_krwinki,y[2]=e.Hemoglobina,y[3]=e.Hematokryt,y[4]=e.Limfocyty,y[5]=e.Monocyty,y[6]=e.MCV,y[7]=e.MCH,y[8]=e.MCHC,y[9]=e.Płytki_krwi,y[10]=e.OB,y[11]=e.Glukoza,y[12]=e.Cholesterol,y[13]=e.TSH,y[14]=e.ALAT,y[15]=e.AspAT,y[16]=e.Potas,y[17]=e.Sód,y[18]=e.Magnez,y[19]=e.Wapń,y[20]=e.Żelazo,y[21]=e.Witamina_B12,"Mężczyzna"==plecstatus)for(var c=1;c<=22;c++)0!=y[c-1]&&(y[c-1]>b[c-1]?(d++,$("#szczegolybadaniamain").append('     <div class="container_badanie_bad_above">           <div class="badania_all_inner">             <div style="line-height: 100%;">                             <span class="badania_bad_above_wskaznik" id="nazwawskaznika">                 WBC Białe krwinki               </span>               <br><br>                              <span class="badania_all_wartosc_value_text">                 wartość ponad normą               </span>               <br>                <span class="badania_bad_above_value" id="wartoscszczegoly">                 144,00               </span>                <span class="badania_bad_above_value_sec" id="wartoscroznaodnormy">                 (+12,00)               </span>               <br><br>                <span class="badania_all_note" id="wskazowki">                 W Twoim organizmie toczy się infekcja/ stan zapalny, zbadaj się dokładnie.               </span>               <div class="box">             <div class ="content-box">               <div class="ikona"><img src="img/doctor1.png" alt=""></div>                <div class="line">&nbsp;</div>                  <div class="tekst" id="notepowyzej"></div>                </div>              </div>             </div>           </div>       </div>        <div name="Separator" style=" background-color: #eaeaea; width: 100%; height: 4px; " class="separator"></div>'),$(document).ready(function(){var a=document.getElementById("nazwawskaznika"),e=document.getElementById("wartoscszczegoly"),n=document.getElementById("wartoscroznaodnormy"),i=document.getElementById("wskazowki"),s=document.getElementById("notepowyzej");a.setAttribute("id","nazwawskaznika "+c),a.innerHTML=m[c-1],e.setAttribute("id","wartoscszczegoly "+c),e.innerHTML=addZeroes(y[c-1]),t=y[c-1]-b[c-1],n.setAttribute("id","wartoscroznaodnormy "+c),n.innerHTML="(+ "+addZeroes(t)+")",i.setAttribute("id","wskazowki "+c),s.setAttribute("id","notepowyzej "+c);var o=new XMLHttpRequest,d="https://health-care-71096.firebaseio.com/Komunikaty/"+z[c-1]+"/Powyzej.json";o.onreadystatechange=function(){4==this.readyState&&200==this.status&&(i.innerHTML=o.responseText.replace(/['"]+/g,""))},o.open("GET",d,!0),o.send();var r=new XMLHttpRequest,l="https://health-care-71096.firebaseio.com/Komunikaty/"+z[c-1]+"/NotePowyzej.json";r.onreadystatechange=function(){4==this.readyState&&200==this.status&&(s.innerHTML=r.responseText.replace(/['"]+/g,""))},r.open("GET",l,!0),r.send()})):y[c-1]<p[c-1]?(d++,$("#szczegolybadaniamain").append('    <div class="container_badanie_bad_above badania_bad_below_border" id="">           <div class="badania_all_inner">              <div style="line-height: 100%;">                              <span class="badania_bad_above_wskaznik badania_bad_below" id="nazwawskaznika" >                 HGB(Hb) Hemoglobina               </span>               <br><br>                              <span class="badania_all_wartosc_value_text">                 wartość poniżej normą               </span>               <br>                <span class="badania_bad_above_value badania_bad_below" id="wartoscszczegoly">                 144,00               </span>                <span class="badania_bad_above_value_sec badania_bad_below" id="wartoscroznaodnormy">                 (-12,00)               </span>               <br><br>                <span class="badania_all_note" id="wskazowki">                 Możliwe, że masz anemię. Uzupełnij niedobór żelaza, witaminy B12 lub kwasu foliowego.               </span>            <div class="box" style="margin-top:20px">              <div class ="content-box">                 <div class="ikona"><img src="img/doctor.png" alt=""></div>                <div class="line">&nbsp;</div>                 <div class="tekst" id="noteponizej"></div>              </div>            </div>            </div>           </div>       </div>        <div name="Separator" style=" background-color: #eaeaea; width: 100%; height: 4px; " class="separator"></div>'),$(document).ready(function(){var a=document.getElementById("nazwawskaznika"),e=document.getElementById("wartoscszczegoly"),n=document.getElementById("wartoscroznaodnormy"),i=document.getElementById("wskazowki"),s=document.getElementById("noteponizej");a.setAttribute("id","nazwawskaznika "+c),a.innerHTML=m[c-1],e.setAttribute("id","wartoscszczegoly "+c),e.innerHTML=addZeroes(y[c-1]),t=p[c-1]-y[c-1],n.setAttribute("id","wartoscroznaodnormy "+c),n.innerHTML="(- "+addZeroes(t)+")",i.setAttribute("id","wskazowki "+c),s.setAttribute("id","noteponizej "+c);var o=new XMLHttpRequest,d="https://health-care-71096.firebaseio.com/Komunikaty/"+z[c-1]+"/Ponizej.json";o.onreadystatechange=function(){4==this.readyState&&200==this.status&&(i.innerHTML=o.responseText.replace(/['"]+/g,""))},o.open("GET",d,!0),o.send();var r=new XMLHttpRequest,l="https://health-care-71096.firebaseio.com/Komunikaty/"+z[c-1]+"/NotePonizej.json";r.onreadystatechange=function(){4==this.readyState&&200==this.status&&(s.innerHTML=r.responseText.replace(/['"]+/g,""))},r.open("GET",l,!0),r.send()})):y[c-1]>=p[c-1]&&y[c-1]<=b[c-1]&&(r++,$("#szczegolybadaniamain").append('<div class="container_badanie_bad_above badania_good_border" id="">           <div class="badania_all_inner">            <div style="line-height: 100%;">                            <span class="badania_bad_above_wskaznik badania_good" id="nazwawskaznika" >                Glukoza              </span>              <br><br>                            <span class="badania_all_wartosc_value_text">                wartość w normie              </span>              <br>              <span class="badania_bad_above_value badania_good" id="wartoscszczegoly">                144,00              </span>              <br><br>              <span class="badania_all_note">                Twoje wyniki są w normie. Trzymaj tak dalej!              </span>            </div>          </div>      </div>            <div name="Separator" style=" background-color: #eaeaea; width: 100%; height: 4px; " class="separator"></div>'),$(document).ready(function(){var a=document.getElementById("nazwawskaznika"),e=document.getElementById("wartoscszczegoly");a.setAttribute("id","nazwawskaznika "+c),a.innerHTML=m[c-1],e.setAttribute("id","wartoscszczegoly "+c),e.innerHTML=addZeroes(y[c-1])})));else if("Kobieta"==plecstatus)for(c=1;c<=22;c++)0!=y[c-1]&&(y[c-1]>w[c-1]?(d++,$("#szczegolybadaniamain").append('     <div class="container_badanie_bad_above">           <div class="badania_all_inner">             <div style="line-height: 100%;">                             <span class="badania_bad_above_wskaznik" id="nazwawskaznika">                 WBC Białe krwinki               </span>               <br><br>                              <span class="badania_all_wartosc_value_text">                 wartość ponad normą               </span>               <br>                <span class="badania_bad_above_value" id="wartoscszczegoly">                 144,00               </span>                <span class="badania_bad_above_value_sec" id="wartoscroznaodnormy">                 (+12,00)               </span>               <br><br>                <span class="badania_all_note" id="wskazowki">                 W Twoim organizmie toczy się infekcja/ stan zapalny, zbadaj się dokładnie.               </span>              </div> <div class="box">             <div class ="content-box">               <div class="ikona"><img src="img/doctor1.png" alt=""></div>                <div class="line">&nbsp;</div>                  <div class="tekst" id="notepowyzej"></div>                </div>              </div>          </div>       </div>        <div name="Separator" style=" background-color: #eaeaea; width: 100%; height: 4px;"class="separator"></div>'),$(document).ready(function(){var a=document.getElementById("nazwawskaznika"),e=document.getElementById("wartoscszczegoly"),n=document.getElementById("wartoscroznaodnormy"),i=document.getElementById("wskazowki"),s=document.getElementById("notepowyzej");a.setAttribute("id","nazwawskaznika "+c),a.innerHTML=m[c-1],e.setAttribute("id","wartoscszczegoly "+c),e.innerHTML=addZeroes(y[c-1]),t=y[c-1]-w[c-1],n.setAttribute("id","wartoscroznaodnormy "+c),n.innerHTML="(+ "+addZeroes(t)+")",i.setAttribute("id","wskazowki "+c),s.setAttribute("id","notepowyzej "+c);var o=new XMLHttpRequest,d="https://health-care-71096.firebaseio.com/Komunikaty/"+z[c-1]+"/Powyzej.json";o.onreadystatechange=function(){4==this.readyState&&200==this.status&&(i.innerHTML=o.responseText.replace(/['"]+/g,""))},o.open("GET",d,!0),o.send();var r=new XMLHttpRequest,l="https://health-care-71096.firebaseio.com/Komunikaty/"+z[c-1]+"/NotePowyzej.json";r.onreadystatechange=function(){4==this.readyState&&200==this.status&&(s.innerHTML=r.responseText.replace(/['"]+/g,""))},r.open("GET",l,!0),r.send()})):y[c-1]<u[c-1]?(d++,$("#szczegolybadaniamain").append('    <div class="container_badanie_bad_above badania_bad_below_border" id="">           <div class="badania_all_inner">              <div style="line-height: 100%;">                              <span class="badania_bad_above_wskaznik badania_bad_below" id="nazwawskaznika" >                 HGB(Hb) Hemoglobina               </span>               <br><br>                              <span class="badania_all_wartosc_value_text">                 wartość poniżej normą               </span>               <br>                <span class="badania_bad_above_value badania_bad_below" id="wartoscszczegoly">                 144,00               </span>                <span class="badania_bad_above_value_sec badania_bad_below" id="wartoscroznaodnormy">                 (-12,00)               </span>               <br><br>                <span class="badania_all_note" id="wskazowki">                 Możliwe, że masz anemię. Uzupełnij niedobór żelaza, witaminy B12 lub kwasu foliowego.               </span>               <div class="box">              <div class ="content-box">                 <div class="ikona"><img src="img/doctor.png" alt=""></div>                <div class="line">&nbsp;</div>                 <div class="tekst" id="noteponizej"></div>              </div>            </div>             </div>           </div>       </div>        <div name="Separator" style=" background-color: #eaeaea; width: 100%; height: 4px; " class="separator"></div>'),$(document).ready(function(){var a=document.getElementById("nazwawskaznika"),e=document.getElementById("wartoscszczegoly"),n=document.getElementById("wartoscroznaodnormy"),i=document.getElementById("wskazowki"),s=document.getElementById("noteponizej");a.setAttribute("id","nazwawskaznika "+c),a.innerHTML=m[c-1],e.setAttribute("id","wartoscszczegoly "+c),e.innerHTML=addZeroes(y[c-1]),t=u[c-1]-y[c-1],n.setAttribute("id","wartoscroznaodnormy "+c),n.innerHTML="(- "+addZeroes(t)+")",i.setAttribute("id","wskazowki "+c),s.setAttribute("id","noteponizej "+c);var o=new XMLHttpRequest,d="https://health-care-71096.firebaseio.com/Komunikaty/"+z[c-1]+"/Ponizej.json";o.onreadystatechange=function(){4==this.readyState&&200==this.status&&(i.innerHTML=o.responseText.replace(/['"]+/g,""))},o.open("GET",d,!0),o.send();var r=new XMLHttpRequest,l="https://health-care-71096.firebaseio.com/Komunikaty/"+z[c-1]+"/NotePonizej.json";r.onreadystatechange=function(){4==this.readyState&&200==this.status&&(s.innerHTML=r.responseText.replace(/['"]+/g,""))},r.open("GET",l,!0),r.send()})):y[c-1]>=u[c-1]&&y[c-1]<=w[c-1]&&(r++,$("#szczegolybadaniamain").append('<div class="container_badanie_bad_above badania_good_border" id="">           <div class="badania_all_inner">            <div style="line-height: 100%;">                            <span class="badania_bad_above_wskaznik badania_good" id="nazwawskaznika" >                Glukoza              </span>              <br><br>                            <span class="badania_all_wartosc_value_text">                wartość w normie              </span>              <br>              <span class="badania_bad_above_value badania_good" id="wartoscszczegoly">                144,00              </span>              <br><br>              <span class="badania_all_note">                Twoje wyniki są w normie. Trzymaj tak dalej!              </span>            </div>          </div>      </div>            <div name="Separator" style=" background-color: #eaeaea; width: 100%; height: 4px; " class="separator"></div>'),$(document).ready(function(){var a=document.getElementById("nazwawskaznika"),e=document.getElementById("wartoscszczegoly");a.setAttribute("id","nazwawskaznika "+c),a.innerHTML=m[c-1],e.setAttribute("id","wartoscszczegoly "+c),e.innerHTML=addZeroes(y[c-1])})));v=r;var _=document.getElementById("correctValue"),g=document.getElementById("IncorrectValue");if(_.innerHTML=v,g.innerHTML=d,(n=v/(d+r))>.8)document.getElementById("testbadanie").src="img/dobrze.png";else if(n<=.8&&n>=.54){document.getElementById("testbadanie").src="img/srednio.png"}else if(n<.54){document.getElementById("testbadanie").src="img/slabo.png"}firebase.database().ref("users/"+o+"/Badania/"+l[s-1]).child("Data").on("value",function(a){i=a.val(),document.getElementById("data_change").innerHTML=i})})}):window.location.href="page2.html"})}firebase.auth().onAuthStateChanged(function(a){var e=(a=firebase.auth().currentUser).uid;a&&firebase.database().ref("users/"+e).child("płeć").on("value",function(a){plecstatus=a.val()})}),szczegolyPage(qs());