

<html>
  <head>
    <title>Title</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
		<script src="js/pgb.js"></script>
		<script src="cordova.js"></script>
		<!-- UIkit CSS -->
		<link rel="stylesheet" href="css/uikit.min.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&amp;subset=latin-ext" rel="stylesheet">

		<!-- UIkit JS -->
		<script src="js/uikit.min.js"></script>
		<script src="js/uikit-icons.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase-auth.js"></script>
    <script type="text/javascript">
          
          firebase.initializeApp({
            apiKey: "AIzaSyDNJfmduRSncwtKmw3wX69KWz36gNgWj9Y",
            authDomain: "health-care-71096.firebaseapp.com",
            databaseURL: "https://health-care-71096.firebaseio.com",
            projectId: "health-care-71096",
            storageBucket: "",
            messagingSenderId: "278088023798"
        });
        </script>
    </head>
    <body onload="init()">
     
    <div class="uk-flex" style="padding: 20px 0;">
    <div style="width: 15%;"> 
      <a href="page2.html" class="uk-icon-button" uk-icon="icon: arrow-left; ratio: 1.5"></a>  
    </div>
     <div class="uk-text-center" style="width: 70%; font-size: 25px; font-weight: 700; color:#4CC0D3; padding: 0px 0;">
        SignUp
    </div>
    </div>
    

    <div class="uk-form-stacked" style="margin: 0 auto; width: 80%;">

    <div class="uk-margin">
        <label class="uk-form-label" for="form-stacked-text">E-mail</label>
        <div class="uk-form-controls">
            <input class="uk-input" type="text" placeholder="Podaj swój e-mail" id="imejl2">
        </div>
    </div>

    <div class="uk-margin">
        <label class="uk-form-label" for="form-stacked-text">Hasło</label>
        <div class="uk-form-controls">
            <input class="uk-input" type="password" placeholder="Podaj swoje hasło" id="pw2">
        </div>
    </div>

    <div class="uk-margin">
        <label class="uk-form-label" for="form-stacked-text">Imię</label>
        <div class="uk-form-controls">
            <input class="uk-input" type="text" placeholder="Podaj swoje imię" id="imie">
        </div>
    </div>

    <div class="uk-margin">
        <label class="uk-form-label" for="form-stacked-text">Nazwisko</label>
        <div class="uk-form-controls">
            <input class="uk-input" placeholder="Podaj swoje nazwisko" id="nazwisko">
        </div>
    </div>

    <div class="uk-margin">
        <label class="uk-form-label" for="form-stacked-text">Wiek</label>
        <div class="uk-form-controls">
            <input class="uk-input" placeholder="Podaj wiek" id="wiek" type="number">
        </div>
    </div>

    <div class="uk-margin">
        <div class="uk-form-label">Płeć</div>
        <div class="uk-form-controls uk-grid">
            <label><input class="uk-radio" type="radio" name="radio1" id="option-1"  value="Kobieta">  Kobieta</label><br>
            <label><input class="uk-radio" type="radio" name="radio2" id="option-2"  value="Mężczyzna" >  Mężczyzna</label>
        </div>
    </div>

</div>
    
<div class="uk-text-center" style="margin: 40px 0">
<button class="uk-button uk-button-primary uk-width-1-1 uk-margin-small-bottom" href="" id="signUpButton" style="width: 80%;">SignUp</button>

</div>








<script>
           // Initialize Firebase
        
const provider = new firebase.auth.GoogleAuthProvider();
        var database = firebase.database();


document.querySelector('#signUpButton').addEventListener('click', function () {
          var login = document.getElementById('imejl2').value;
          var pw = document.getElementById('pw2').value;
          var imie = document.getElementById('imie').value;
          var nazwisko = document.getElementById('nazwisko').value;
          var wiek = document.getElementById('wiek').value;
          var radio1 = document.getElementById('option-1');
          var radio2 = document.getElementById('option-2');

firebase.auth().createUserWithEmailAndPassword(login, pw).catch(function(error) {
  // Handle Errors here.
  var errorCode = error.code;
  var errorMessage = error.message;
    alert(errorMessage);
  console.log(errorCode);

});



 firebase.auth().onAuthStateChanged(function(user) {
          
          
  if (user) {
    // User is signed in.
      
if(radio1.checked){
 plec = document.getElementById('option-1').value;
}else{
  plec = document.getElementById('option-2').value;
}
var user = firebase.auth().currentUser;
 var uid = user.uid;
         firebase.database().ref('users/' + uid).set({
    email : login,
    name : imie,
    secondname: nazwisko,
    płeć: plec,
    wiek: wiek

    
   
  });
         firebase.auth().signOut().then(function() {
  // Sign-out successful.

}).catch(function(error) {
  // An error happened.
});
    window.location.href = "page2.html";



}
  else {
        

         var errorCode = error.code;
  var errorMessage = error.message;
    alert(errorMessage);
  console.log(errorCode);
  }
});
});

</script>

    </body>
</html>