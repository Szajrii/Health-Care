const provider = new firebase.auth.GoogleAuthProvider();

var switcher=UIkit.switcher("#switcher",{connect:"#content",animation:"uk-animation-fade"}),$toggles=UIkit.util.$$(".switcher-toggle");function myFunction(){myVar=setTimeout(showPage,500)}function showPage(){document.getElementById("loader").style.display="none",document.getElementById("myDiv").style.display="block"}UIkit.util.each($toggles,function(){var e=this;UIkit.util.on(e,"click",function(a){var t=UIkit.util.attr(e,"uk-switcher-nav"),i=UIkit.util.$("#content .uk-active"),n=UIkit.util.index(i);"previous"===t?switcher.show(n-1):"next"===t&&switcher.show(n+1)})});var prevScrollpos=window.pageYOffset;window.onscroll=function(){var e=window.pageYOffset;document.getElementById("navbar").style.bottom=prevScrollpos>e?"0":"-81px",prevScrollpos=e};var plecstatus,database=firebase.database();function addZeroes(e){var a=e.toString(),t=Number(a),i=a.split(".");return(i.length<10||i[1].length<3)&&(t=t.toFixed(2)),t}firebase.auth().onAuthStateChanged(function(e){var a=(e=firebase.auth().currentUser).uid;e&&firebase.database().ref("users/"+a).child("płeć").on("value",function(e){plecstatus=e.val()})}),document.querySelector("#glukozadodawanie").addEventListener("click",function(){var e=firebase.auth().currentUser,a=e.uid;if(e){var t=new Date,i=t.getTime(),n=t.getDate(),r=t.getMonth(),o=t.getMonth(),s=t.getHours(),c=t.getMinutes(),l=t.getFullYear();n<10&&(n="0"+n),c<10&&(c="0"+c),o<10?o="0"+(o+=1):o>=10&&(o+=1);var u=document.getElementById("wartoscglukozy").value;""==u?document.getElementById("label-error2").innerHTML="Pole wymagane":(firebase.database().ref("users/"+a+"/Pomiary/Glukoza/"+i).set({Dzien:n,Miesiac:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"][r],Miesiac2:o,Rok:l,Minuta:c,Godzina:s,Wartosc:u}),self.location.reload())}}),document.querySelector("#cisnieniedodawanie").addEventListener("click",function(){var e=firebase.auth().currentUser,a=e.uid;if(e){var t=new Date,i=t.getTime(),n=t.getDate(),r=t.getMonth(),o=t.getMonth(),s=t.getHours(),c=t.getMinutes(),l=t.getFullYear();n<10&&(n="0"+n),c<10&&(c="0"+c),o<10?o="0"+(o+=1):o>=10&&(o+=1);var u=document.getElementById("cisnienieskurczowe").value,d=document.getElementById("cisnienierozkurczowe").value;""==u||""==d?(document.getElementById("label-error0").innerHTML="Pole wymagane",document.getElementById("label-error1").innerHTML="Pole wymagane"):(firebase.database().ref("users/"+a+"/Pomiary/Cisnienie/"+i).set({Dzien:n,Miesiac:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"][r],Miesiac2:o,Rok:l,Minuta:c,Godzina:s,Wartoscskurczowe:u,Wartoscrozkurczowe:d}),self.location.reload())}});var labelsCisnienie=[],dataSkurczowe=[],dataRozkurczowe=[],cukier=[],labelCukier=[];$(document).ready(function(){firebase.auth().onAuthStateChanged(function(e){if(e){var a=(e=firebase.auth().currentUser).uid,t=[],i=0;firebase.database().ref("users/"+a+"/Pomiary/Cisnienie/").orderByKey().on("value",function(e){e.forEach(function(e){var a=e.key;t[i]=a,i+=1});for(var n=t.length,r=t.length+1,o=1;o<=6;o++){firebase.database().ref("users/"+a+"/Pomiary/Cisnienie/"+t[n-1]).on("value",function(e){var a=e.val(),t=a.Dzien+"."+a.Miesiac2,i=a.Wartoscskurczowe,n=a.Wartoscrozkurczowe;labelsCisnienie.push(t),dataSkurczowe.push(i),dataRozkurczowe.push(n)}),n--}for(;r>0;){firebase.database().ref("users/"+a+"/Pomiary/Cisnienie/"+t[r-1]).on("value",function(e){var a=e.val(),t=a.Dzien+" "+a.Miesiac+", "+a.Godzina+":"+a.Minuta,i=a.Wartoscskurczowe,n=a.Wartoscrozkurczowe;r%2!=0?$("#cisnienietabela").append('<tr>      <td class="mdl-data-table__cell--non-numeric" id="cisnieniedata">27 kwiecien, 14:50</td>      <td class="" id="cisnieniewartosc">180/60</td>     </tr>'):$("#cisnienietabela").append('<tr style="background-color: #f4f4f4">      <td class="mdl-data-table__cell--non-numeric" id="cisnieniedata">27 kwiecien, 14:50</td>      <td class="" id="cisnieniewartosc">180/60</td>     </tr>'),$(document).ready(function(){var e=document.getElementById("cisnieniedata"),a=document.getElementById("cisnieniewartosc");e.setAttribute("id","cisnieniedata "+r),e.innerHTML=t,a.setAttribute("id","cisnieniewartosc "+r),a.innerHTML=i+"/"+n})}),r--}var s=document.getElementById("line-chart");new Chart(s,{type:"line",data:{datasets:[{data:dataSkurczowe,label:"ciśn. skurczowe",borderColor:"#67C9C9",backgroundColor:"rgba(165, 223, 223, 0.3)",fill:!0},{data:dataRozkurczowe,label:"ciśn. rozkurczowe",borderColor:"#FF6E8C",backgroundColor:"rgba(255, 110, 140, 0.3)",fill:!0}]},options:{legend:{position:"bottom"},scales:{xAxes:[{type:"category",labels:labelsCisnienie}]},title:{display:!1}}})})}})}),firebase.auth().onAuthStateChanged(function(e){if(e){var a=(e=firebase.auth().currentUser).uid,t=[],i=0;firebase.database().ref("users/"+a+"/Pomiary/Glukoza/").orderByKey().on("value",function(e){e.forEach(function(e){var a=e.key;t[i]=a,i+=1});for(var n=t.length,r=t.length+1,o=1;o<=6;o++){firebase.database().ref("users/"+a+"/Pomiary/Glukoza/"+t[n-1]).on("value",function(e){var a=e.val(),t=a.Dzien+"."+a.Miesiac2,i=a.Wartosc;labelCukier.push(t),cukier.push(i)}),n--}for(;r>0;){firebase.database().ref("users/"+a+"/Pomiary/Glukoza/"+t[r-1]).on("value",function(e){var a=e.val(),t=a.Dzien+" "+a.Miesiac+", "+a.Godzina+":"+a.Minuta,i=a.Wartosc;r%2!=0?$("#glukozatabela").append('<tr>   <td class="mdl-data-table__cell--non-numeric" id="glukozadata">27 kwiecien, 14:50</td>  <td class="" id="glukozawartosc">180</td>    </tr>'):$("#glukozatabela").append('<tr style="background-color: #f4f4f4">   <td class="mdl-data-table__cell--non-numeric" id="glukozadata">27 kwiecien, 14:50</td>  <td class="" id="glukozawartosc">180</td>    </tr>'),$(document).ready(function(){var e=document.getElementById("glukozadata"),a=document.getElementById("glukozawartosc");e.setAttribute("id","glukozadata "+r),e.innerHTML=t,a.setAttribute("id","glukozawartosc "+r),a.innerHTML=i})}),r--}var s=document.getElementById("line-chart1");new Chart(s,{type:"line",data:{datasets:[{data:cukier,label:"Poziom glukozy we krwi",borderColor:"#FFA31A",backgroundColor:"rgba(255, 163, 26, 0.3)",fill:!0}]},options:{legend:{position:"bottom"},scales:{xAxes:[{type:"category",labels:labelCukier}]},title:{display:!1}}})})}else window.location.href="page2.html"});